import { useState } from 'react';
import './index.css';

export const Loader = ({ loading }) => {
    const [animationDone, setAnimationDone] = useState(false);
    
    let partOneAnimationEnded = false;
    let partTwoAnimationEnded = false;
    
    const handleOnAnimationEnd = (e) => {
      if (e.target.id === "part-one-animate") {
        partOneAnimationEnded = true;
      }
    
      if (e.target.id === "part-two-animate") {
        partTwoAnimationEnded = true;
      }
    
      if (partOneAnimationEnded && partTwoAnimationEnded) {
        setTimeout(() => {
            setAnimationDone(false);
        }, 500);
      }
    };

    console.log(animationDone, loading)
    
    return (
        <>
            <div className={`loader ${!loading && animationDone ? 'hide' : ''}`}>
                <div className='logo'>
                    <svg width="7705" height="9432" viewBox="0 0 7705 9432" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path 
                            d="M7653.61 1221.84C7653.61 1221.68 7653.61 1221.42 7653.63 1221.04C7653.63 1218.65 7653.61 1221.04 7653.61 1221.84Z" 
                            fill="white"
                        />
                        <path 
                            id="part-one-animate"
                            d="M7699.35 3.67989L4925.73 1633.65C4806.82 1706.54 4689.96 1777.65 4580.94 1842.63C4580.87 1842.7 4580.83 1842.7 4580.83 1842.7L4206.5 2029.94L4201.78 2032.29C4133.56 2063.02 3977.45 2008.05 3935.6 1919.79C3904.39 1853.95 3904.61 1667.15 3904.61 1505.39C3904.14 1362.34 3903.83 1207.18 3903.83 1034.41C3905.4 681.98 3908.26 438.477 4033.27 278.268C4033.51 278.179 4033.62 277.936 4033.89 277.67C4191.42 112.368 4523.28 6.38104 5220.2 0.292375C5230.56 0.248094 5241.06 0.181672 5251.66 0.11525C5262.29 0.0488281 5273.03 0.0488281 5283.81 0.0488281L4614.15 0.358797L3929.94 0.403078L3852.53 0.0488281V1147.13L3852.47 0.0488281L3775.09 0.403078L3090.85 0.358797L2421.19 0.0488281C2431.97 0.0488281 2442.71 0.0488281 2453.33 0.11525C2463.94 0.181672 2474.43 0.248094 2484.8 0.292375C3181.72 6.38104 3513.58 112.368 3671.11 277.67C3671.38 277.936 3671.49 278.179 3671.73 278.268C3796.76 438.477 3799.62 681.98 3801.17 1034.41C3801.17 1207.18 3800.86 1362.34 3800.39 1505.39C3800.39 1667.15 3800.61 1853.95 3769.4 1919.79C3727.55 2008.05 3571.44 2063.02 3503.22 2032.29L3498.5 2029.94L3198.59 1879.92L3197.15 1879.21L3124.17 1842.7C3124.17 1842.7 3124.15 1842.7 3124.08 1842.63C3015.06 1777.65 2898.18 1706.54 2779.27 1633.65L5.62372 3.67989L0 0.0488281V2358.02L1431.43 2358.27C1409.89 2358.27 1388.55 2358.27 1367.74 2358.02C670.794 2351.96 338.951 2245.97 181.42 2080.67C181.42 2080.67 181.044 2080.16 180.8 2080.05C49.0193 1909.99 51.3662 1664.82 51.3662 1664.82V1544.69C51.2998 1525.4 51.3662 1507.34 51.3662 1488.65C51.3219 1486.81 51.3662 1483.49 51.3662 1481.65C51.2998 1469.76 51.4326 1458.25 51.3662 1446.63C51.3219 1441.51 51.3662 1435.31 51.3662 1430.29C51.2555 1420.24 51.4326 1411.36 51.3662 1401.51C51.2998 1396.7 51.3662 1390.55 51.3662 1385.92C51.3219 1383.46 51.3662 1381.36 51.3662 1378.92V1342.94C51.2112 1329.08 51.0784 1315.4 50.9898 1301.89C50.8791 1292.68 50.8127 1283.58 50.7463 1274.55C50.6799 1267.49 51.3884 1259.78 51.3662 1252.83C51.2998 1245.61 51.3662 1228.17 51.3662 1221.04C51.0784 1206.14 51.3219 1192.19 51.3662 1178.11V645.758C51.3662 588.812 55.7722 526.043 55.7722 526.043C55.7722 526.043 57.0342 520.42 57.6542 517.696C57.7206 517.497 57.7427 517.32 57.787 517.143C58.2962 515.194 58.7612 513.18 59.2483 511.276C60.2003 507.335 61.1524 503.504 62.193 499.74C62.6801 497.858 63.2114 495.999 63.7207 494.139C63.9642 493.165 64.2742 492.235 64.5399 491.26C65.3591 488.426 66.1783 485.703 66.9753 482.98C67.2632 482.072 67.5731 481.098 67.8388 480.19C68.5252 478.02 69.2337 475.873 69.9422 473.747C70.5178 471.865 71.1378 470.028 71.802 468.168C72.3777 466.33 73.064 464.515 73.7061 462.699C74.3482 460.839 75.0124 459.046 75.6766 457.319C76.2301 455.835 76.8058 454.396 77.3372 452.957C78.1342 450.898 78.9534 448.883 79.7505 446.935C84.5771 434.913 89.758 423.864 95.2268 413.724C96.7545 410.801 98.3043 407.967 99.9427 405.244V405.178C101.537 402.432 103.175 399.753 104.836 397.163V397.096C106.474 394.462 108.09 391.916 109.795 389.436C111.434 386.956 113.161 384.521 114.888 382.107C119.139 376.24 123.545 370.793 128.061 365.723C129.877 363.598 131.67 361.627 133.53 359.701C137.139 355.937 140.814 352.372 144.512 349.096C146.682 347.081 148.962 345.221 151.243 343.339L154.696 340.616C157.796 338.247 160.962 335.988 164.106 333.863C166.232 332.424 168.335 331.073 170.438 329.833C172.542 328.527 174.645 327.353 176.815 326.202C178.963 325.007 181.11 323.855 183.302 322.793C242.661 293.722 306.869 307.228 348.737 325.937C348.936 326.047 349.113 326.114 349.312 326.202L728.36 515.837C728.36 515.837 728.36 515.837 728.448 515.903C838.62 581.572 956.895 653.529 1077.1 727.235C1444.72 952.848 1830.52 1195.55 2059.76 1328.15C2108.25 1356.21 2131.7 1376.35 2134.2 1389.73C2134.29 1390.17 2134.36 1390.57 2134.38 1391.01C2134.49 1391.85 2134.49 1392.58 2134.38 1393.36C2134.36 1393.76 2134.29 1394.13 2134.2 1394.49C2134.11 1394.91 2134 1395.24 2133.91 1395.59C2133.27 1397.63 2131.94 1399.29 2129.99 1400.69C2043.4 1462.48 695.06 918.309 258.47 818.72C265.178 822.351 557.014 979.793 942.592 1191.32C1056.66 1253.92 1178.97 1321.27 1304.55 1390.74C1570.59 1537.98 1851.24 1694.89 2099.33 1836.88C2294.34 1948.51 2469.23 2050.93 2601.06 2132.19C2716.3 2203.22 2797.18 2262.53 2834.53 2288.21C2874.16 2313.85 2902.13 2332.52 2938.55 2358.02H2421.08C3822.78 2358.02 3801.17 2609.7 3801.17 3548.81C3801.17 4826.59 3287.37 4673.84 2841.81 4673.84C2396.26 4673.84 1665.73 4503.72 1097.67 4124.09C529.626 3744.47 72.3555 3373.75 72.3555 2974.46C72.3555 2670.92 265.112 2646.21 349.423 2684.16L1472.75 3245.95L0 2358.02V4716H1848.74C256.499 4716 50.2813 4054.64 51.3662 3539.47L1943.95 4716H5761.05L7653.63 3539.47C7654.72 4054.64 7448.48 4716 5856.26 4716H7705V2358.02L6232.23 3245.95L7355.58 2684.16C7439.89 2646.21 7632.62 2670.92 7632.62 2974.46C7632.62 3373.75 7175.37 3744.47 6607.33 4124.09C6039.27 4503.72 5308.72 4673.84 4863.19 4673.84C4417.65 4673.84 3903.83 4826.59 3903.83 3548.81C3903.83 2609.7 3882.22 2358.02 5283.92 2358.02H4766.45C4802.87 2332.52 4830.84 2313.85 4870.47 2288.21C4907.82 2262.53 4988.72 2203.22 5103.94 2132.19C5235.77 2050.93 5410.66 1948.51 5605.67 1836.88C5853.76 1694.89 6134.41 1537.98 6400.45 1390.74C6526.01 1321.27 6648.32 1253.92 6762.41 1191.32C7147.96 979.793 7439.8 822.351 7446.53 818.72C7009.94 918.309 5661.6 1462.48 5574.98 1400.69C5573.06 1399.29 5571.73 1397.63 5571.09 1395.59C5570.98 1395.24 5570.89 1394.91 5570.78 1394.49C5570.71 1394.13 5570.64 1393.76 5570.62 1393.36C5570.51 1392.58 5570.51 1391.85 5570.62 1391.01C5570.64 1390.57 5570.71 1390.17 5570.78 1389.73C5573.3 1376.35 5596.75 1356.21 5645.21 1328.15C5874.48 1195.55 6260.28 952.848 6627.9 727.235C6748.1 653.529 6866.36 581.572 6976.55 515.903C6976.62 515.837 6976.64 515.837 6976.64 515.837L7355.69 326.202C7355.89 326.114 7356.06 326.047 7356.26 325.937C7398.11 307.228 7462.34 293.722 7521.68 322.793C7523.89 323.855 7526.04 325.007 7528.16 326.202C7530.35 327.353 7532.46 328.527 7534.56 329.833C7536.66 331.073 7538.77 332.424 7540.87 333.863C7544.04 335.988 7547.2 338.247 7550.28 340.616L7553.76 343.339C7556.04 345.221 7558.3 347.081 7560.49 349.096C7564.19 352.372 7567.86 355.937 7571.45 359.701C7573.33 361.627 7575.12 363.598 7576.92 365.723C7581.43 370.793 7585.86 376.24 7590.11 382.107C7591.84 384.521 7593.57 386.956 7595.2 389.436C7596.91 391.916 7598.53 394.462 7600.16 397.096V397.163C7601.82 399.753 7603.46 402.432 7605.06 405.178V405.244C7606.67 407.967 7608.25 410.801 7609.77 413.724C7615.24 423.864 7620.4 434.913 7625.23 446.935C7626.05 448.883 7626.87 450.898 7627.64 452.957C7628.19 454.396 7628.77 455.835 7629.3 457.319C7629.99 459.046 7630.63 460.839 7631.27 462.699C7631.94 464.515 7632.6 466.33 7633.18 468.168C7633.86 470.028 7634.48 471.865 7635.06 473.747C7635.77 475.873 7636.47 478.02 7637.16 480.19C7637.43 481.098 7637.74 482.072 7638 482.98C7638.82 485.703 7639.64 488.426 7640.46 491.26C7640.73 492.235 7641.04 493.165 7641.28 494.139C7641.79 495.999 7642.32 497.858 7642.81 499.74C7643.85 503.504 7644.8 507.335 7645.75 511.276C7646.24 513.18 7646.7 515.194 7647.21 517.143C7647.26 517.32 7647.28 517.497 7647.35 517.696C7647.97 520.42 7649.23 526.043 7649.23 526.043C7649.23 526.043 7653.63 588.812 7653.63 645.758V1178.11C7653.68 1192.19 7653.92 1206.14 7653.63 1221.04C7653.61 1228.17 7653.7 1245.61 7653.63 1252.83C7653.61 1259.78 7654.32 1267.49 7654.25 1274.55C7654.19 1283.58 7654.12 1292.68 7654.01 1301.89C7653.9 1315.4 7653.77 1329.08 7653.63 1342.94V1378.92C7653.61 1381.36 7653.68 1383.46 7653.63 1385.92C7653.61 1390.55 7653.7 1396.7 7653.63 1401.51C7653.57 1411.36 7653.74 1420.24 7653.63 1430.29C7653.61 1435.31 7653.68 1441.51 7653.63 1446.63C7653.57 1458.25 7653.7 1469.76 7653.63 1481.65C7653.63 1483.49 7653.68 1486.81 7653.63 1488.65C7653.63 1507.34 7653.7 1525.4 7653.63 1544.69V1664.82C7653.63 1664.82 7655.98 1909.99 7524.2 2080.05C7523.96 2080.16 7523.58 2080.67 7523.58 2080.67C7366.05 2245.97 7034.18 2351.96 6337.26 2358.02C6316.43 2358.27 6295.11 2358.27 6273.56 2358.27L7705 2358.02V0.0488281L7699.35 3.67989ZM3433.88 2228.9C3419.55 2260.96 3261.29 2224.21 3028.55 2141.33C2869.84 2084.83 2676.47 2006.83 2470.49 1914.59C1968.48 1689.78 1579.56 1464.34 1593.79 1407.02C1593.92 1406.33 1594.17 1405.69 1594.43 1405.05C1611.64 1366.61 1836.03 1427.14 2147.6 1547.61C2272.87 1596.01 2412.22 1654.11 2557.86 1719.31C2983.05 1909.79 3327.14 2100.66 3413.79 2189.45C3430.69 2206.71 3437.82 2220.11 3433.88 2228.9ZM6110.54 1405.05C6110.83 1405.69 6111.07 1406.33 6111.21 1407.02C6125.44 1464.34 5736.5 1689.78 5234.51 1914.59C5028.53 2006.83 4835.16 2084.83 4676.45 2141.33C4443.71 2224.21 4285.47 2260.96 4271.12 2228.9C4267.18 2220.11 4274.31 2206.71 4291.21 2189.45C4377.86 2100.66 4721.95 1909.79 5147.14 1719.31C5292.78 1654.11 5432.13 1596.01 5557.4 1547.61C5868.97 1427.14 6093.36 1366.61 6110.54 1405.05Z" 
                            fill="none"
                            stroke="white"
                            strokeWidth="0"
                            strokeDasharray="3000"
                            onAnimationEnd={(e) => {handleOnAnimationEnd(e)}}
                        />
                        <path 
                            d="M3852.52 5849.62V5873.12C3852.52 5875.2 3852.5 5877.28 3852.5 5879.36C3852.48 5883.06 3852.46 5886.73 3852.41 5890.39V5849.76L3852.5 5849.67V5849.62H3852.52Z" 
                            fill="white"
                        />
                        <path 
                            d="M3852.58 5849.76V5890.39C3852.54 5886.73 3852.51 5883.06 3852.51 5879.36C3852.49 5877.28 3852.47 5875.2 3852.47 5873.12V5849.62L3852.51 5849.67V5849.71L3852.58 5849.76Z" 
                            fill="white"
                        />
                        <path 
                            d="M3852.52 5849.62V5873.12C3852.52 5875.2 3852.5 5877.28 3852.5 5879.36C3852.48 5883.06 3852.46 5886.73 3852.41 5890.39V5849.76L3852.5 5849.67V5849.62H3852.52Z" 
                            fill="white"
                        />
                        <path 
                            id='part-two-animate'
                            d="M7705 5895.05L5754.41 7073.98L7705 8252.9V9431.95L5840.76 8306.28L7355.69 9105.69C7439.05 9143.88 7632.62 9119.17 7632.62 8817.95C7632.62 8423.31 7169.11 8047.83 6607.31 7665.66C6045.65 7283.49 5308.37 7121.2 4867.75 7116.62C4376.51 7111.35 3862.47 7008.9 3852.58 8257.57C3852.53 8261.22 3852.51 8264.9 3852.51 8268.59C3852.49 8264.9 3852.47 8261.22 3852.42 8257.57C3842.53 7008.9 3328.49 7111.35 2837.25 7116.62C2396.63 7121.2 1659.33 7283.49 1097.67 7665.66C535.891 8047.83 72.3555 8423.31 72.3555 8817.95C72.3555 9119.17 265.953 9143.88 349.29 9105.69L1864.22 8306.28L0 9431.95V8252.9L1950.59 7073.98L0 5895.05V4716L1864.22 5841.67L349.29 5042.26C265.953 5004.07 72.3555 5028.78 72.3555 5330C72.3555 5724.64 535.891 6100.12 1097.67 6482.29C1659.33 6864.46 2396.63 7026.75 2837.25 7031.33C3328.49 7036.6 3842.53 7139.05 3852.42 5890.38C3852.47 5886.73 3852.49 5883.05 3852.51 5879.36C3852.51 5883.05 3852.53 5886.73 3852.58 5890.38C3862.47 7139.05 4376.51 7036.6 4867.75 7031.33C5308.37 7026.75 6045.65 6864.46 6607.31 6482.29C7169.11 6100.12 7632.62 5724.64 7632.62 5330C7632.62 5028.78 7439.05 5004.07 7355.69 5042.26L5840.76 5841.67L7705 4716V5895.05Z" 
                            fill="none"
                            stroke="white"
                            strokeWidth="0"
                            strokeDasharray="3000"
                            onAnimationEnd={(e) => {handleOnAnimationEnd(e)}}
                        />
                        <path 
                            d="M3852.58 5849.76V5890.39C3852.54 5886.73 3852.51 5883.06 3852.51 5879.36C3852.49 5877.28 3852.47 5875.2 3852.47 5873.12V5849.62L3852.51 5849.67V5849.71L3852.58 5849.76Z" 
                            fill="white"
                        />
                        <path 
                            d="M3852.52 8274.83V8298.32V8298.28L3852.46 8298.23L3852.41 8298.19V8257.56C3852.46 8261.22 3852.48 8264.89 3852.5 8268.59C3852.5 8270.67 3852.52 8272.75 3852.52 8274.83Z" 
                            fill="white"
                        />
                        <path 
                            d="M3852.58 8257.56V8298.19L3852.54 8298.23V8298.28L3852.47 8298.32V8274.83C3852.47 8272.75 3852.49 8270.67 3852.51 8268.59C3852.51 8264.89 3852.54 8261.22 3852.58 8257.56Z" 
                            fill="white"
                        />
                    </svg>
                </div>
                <div className='credits-container'>
                    <h1>Developed by
                        <a href='https://www.instagram.com/hexstudio.io'> Hexstudio</a>
                    </h1>
                </div>
            </div>
        </>
    )
}